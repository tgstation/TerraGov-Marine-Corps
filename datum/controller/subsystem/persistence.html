<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;controller&#x2F;subsystem&#x2F;persistence - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/controller/subsystem/persistence.html#var">Var Details</a> - <a href="datum/controller/subsystem/persistence.html#proc">Proc Details</a></header>
<main>
<h1>persistence <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/persistence.html">persistence</a></aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L14">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 14"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#var/custom_loadouts">custom_loadouts</a></th><td>The saved list of custom outfits names</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#var/last_modes_round_date">last_modes_round_date</a></th><td>When were the last rounds of specific game mode played, in ticks</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#var/season_items">season_items</a></th><td>Items that have been selected for the current round for each season</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#var/season_progress">season_progress</a></th><td>Stores the current season for each season group</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#var/seasons_buckets">seasons_buckets</a></th><td>Available gun seasons</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#var/seasons_durations">seasons_durations</a></th><td>Stores how long each season should last</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/CollectData">CollectData</a></th><td>Stores data at the end of the round</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/Initialize">Initialize</a></th><td>Loads data at the start of the round</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/LoadSeasonalItems">LoadSeasonalItems</a></th><td>Loads seasons data, advances seasons and saves the data</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/initialize_custom_loadouts_file">initialize_custom_loadouts_file</a></th><td>Initializes the custom loadouts file if it is missing</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/initialize_seasonal_items_file">initialize_seasonal_items_file</a></th><td>Initializes the seasonal items file if it is missing</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/load_custom_loadouts_list">load_custom_loadouts_list</a></th><td>Loads the list of custom outfits names</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/load_last_game_mode_round_time">load_last_game_mode_round_time</a></th><td>Loads the last gamemode's round date</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/load_loadout">load_loadout</a></th><td>Load a loadout from the persistence loadouts savefile</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/save_custom_loadouts_list">save_custom_loadouts_list</a></th><td>Saves the list of custom outfits names</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/save_last_game_mode_round_time">save_last_game_mode_round_time</a></th><td>Save the date of the last gamemode's round</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/save_loadout">save_loadout</a></th><td>Save a loadout into the persistence savefile</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/seasons_info_message">seasons_info_message</a></th><td>Constructs a message with information about the active seasons and their current buckets</td></tr>
            <tr><th><a href="datum/controller/subsystem/persistence.html#proc/update_season_data">update_season_data</a></th><td>Handles checking whether a season should advance and advancing it, along with setting up the seasons' values or procs for the round</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/custom_loadouts"><aside class="declaration">var </aside>custom_loadouts
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L48">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 48"/></a></h3>
        <p>The saved list of custom outfits names</p><h3 id="var/last_modes_round_date"><aside class="declaration">var </aside>last_modes_round_date
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L50">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 50"/></a></h3>
        <p>When were the last rounds of specific game mode played, in ticks</p><h3 id="var/season_items"><aside class="declaration">var </aside>season_items
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L27">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 27"/></a></h3>
        <p>Items that have been selected for the current round for each season</p><h3 id="var/season_progress"><aside class="declaration">var </aside>season_progress
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L25">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 25"/></a></h3>
        <p>Stores the current season for each season group</p><h3 id="var/seasons_buckets"><aside class="declaration">var </aside>seasons_buckets
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L29">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 29"/></a></h3>
        <p>Available gun seasons</p><h3 id="var/seasons_durations"><aside class="declaration">var </aside>seasons_durations
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L20">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 20"/></a></h3>
        <p>Stores how long each season should last</p><h2 id="proc">Proc Details</h2><h3 id="proc/CollectData"><aside class="declaration">proc </aside>CollectData<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L62">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 62"/></a></aside>
        </h3>
        <p>Stores data at the end of the round</p><h3 id="proc/Initialize">Initialize<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L55">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 55"/></a></aside>
        </h3>
        <p>Loads data at the start of the round</p><h3 id="proc/LoadSeasonalItems"><aside class="declaration">proc </aside>LoadSeasonalItems<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L140">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 140"/></a></aside>
        </h3>
        <p>Loads seasons data, advances seasons and saves the data</p><h3 id="proc/initialize_custom_loadouts_file"><aside class="declaration">proc </aside>initialize_custom_loadouts_file<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L190">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 190"/></a></aside>
        </h3>
        <p>Initializes the custom loadouts file if it is missing</p><h3 id="proc/initialize_seasonal_items_file"><aside class="declaration">proc </aside>initialize_seasonal_items_file<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L184">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 184"/></a></aside>
        </h3>
        <p>Initializes the seasonal items file if it is missing</p><h3 id="proc/load_custom_loadouts_list"><aside class="declaration">proc </aside>load_custom_loadouts_list<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L83">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 83"/></a></aside>
        </h3>
        <p>Loads the list of custom outfits names</p><h3 id="proc/load_last_game_mode_round_time"><aside class="declaration">proc </aside>load_last_game_mode_round_time<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L69">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 69"/></a></aside>
        </h3>
        <p>Loads the last gamemode's round date</p><h3 id="proc/load_loadout"><aside class="declaration">proc </aside>load_loadout<aside>(loadout_name) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L90">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 90"/></a></aside>
        </h3>
        <p>Load a loadout from the persistence loadouts savefile</p><h3 id="proc/save_custom_loadouts_list"><aside class="declaration">proc </aside>save_custom_loadouts_list<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L103">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 103"/></a></aside>
        </h3>
        <p>Saves the list of custom outfits names</p><h3 id="proc/save_last_game_mode_round_time"><aside class="declaration">proc </aside>save_last_game_mode_round_time<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L77">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 77"/></a></aside>
        </h3>
        <p>Save the date of the last gamemode's round</p><h3 id="proc/save_loadout"><aside class="declaration">proc </aside>save_loadout<aside>(/<a href="datum.html">datum</a>/<a href="datum/loadout.html">loadout</a>/loadout) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L114">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 114"/></a></aside>
        </h3>
        <p>Save a loadout into the persistence savefile</p><h3 id="proc/seasons_info_message"><aside class="declaration">proc </aside>seasons_info_message<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L126">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 126"/></a></aside>
        </h3>
        <p>Constructs a message with information about the active seasons and their current buckets</p><h3 id="proc/update_season_data"><aside class="declaration">proc </aside>update_season_data<aside>(season_class, /list/seasons_file_info) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/controllers/subsystem/persistence/_persistence.dm#L153">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;persistence&#x2F;_persistence.dm 153"/></a></aside>
        </h3>
        <p>Handles checking whether a season should advance and advancing it, along with setting up the seasons' values or procs for the round</p></main>
<footer>
    tgmc.dme
    <a href="https://github.com/tgstation/TerraGov-Marine-Corps/tree/bfeaf60f069b9d753b339afccdc0b16b13f5cff1">bfeaf60</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
