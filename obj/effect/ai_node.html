<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;effect&#x2F;ai_node - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/effect/ai_node.html#var">Var Details</a> - <a href="obj/effect/ai_node.html#proc">Proc Details</a></header>
<main>
<h1>ai_node <aside>/<a href="obj.html">obj</a>/<a href="obj/effect/ai_node.html">effect/ai_node</a></aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L4">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 4"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/effect/ai_node.html#var/adjacent_nodes">adjacent_nodes</a></th><td>Assoc list of adjacent landmark nodes by dir</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#var/id_counter">id_counter</a></th><td>static id counter for all nodes</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#var/unique_id">unique_id</a></th><td>A unique id for this node</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#var/weights">weights</a></th><td>List of weights for scoring stuff happening here; ultilizes &quot;identifiers&quot; to differentiate different kinds of AI types looking at the same node.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/effect/ai_node.html#proc/get_best_adj_node">get_best_adj_node</a></th><td>A proc that gets the &quot;best&quot; adjacent node in src based on score
The score is calculated by what weights are inside of the list/weight_modifiers
The highest number after multiplying each list/weight by the ones in the above parameter will be the node that's chosen; any nodes that have the same score won't override that node
Generally the number that the weight has before being multiplied by weight modifiers is the &quot;user friendly&quot; edition; NODE_LAST_VISITED represents in deciseconds the time before
the node has been visited by a particular thing, while something like NODE_ENEMY_COUNT represents the amount of enemies
Parameter call example
GetBestAdjNode(list(NODE_LAST_VISITED = -1), IDENTIFIER_XENO)
Returns an adjacent node that was last visited; when a AI chose to visit a node, it will set NODE_LAST_VISITED to world.time</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#proc/increment_weight">increment_weight</a></th><td>Adds to the specific weight of a specific identifier of this node</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#proc/is_in_line_of_sight">is_in_line_of_sight</a></th><td>Returns true if the turf in argument is in line of sight</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#proc/make_adjacents">make_adjacents</a></th><td>Clears the adjacencies of src and repopulates it, it will consider nodes &quot;adjacent&quot; to src should it be less 15 turfs away</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#proc/serialize">serialize</a></th><td>Serialize nodes information</td></tr>
            <tr><th><a href="obj/effect/ai_node.html#proc/set_weight">set_weight</a></th><td>Sets the specific weight of a specific identifier of this node</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/adjacent_nodes"><aside class="declaration">var </aside>adjacent_nodes
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L20">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 20"/></a></h3>
        <p>Assoc list of adjacent landmark nodes by dir</p><h3 id="var/id_counter"><aside class="declaration">var </aside>id_counter
            <aside>&ndash; /static</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L16">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 16"/></a></h3>
        <p>static id counter for all nodes</p><h3 id="var/unique_id"><aside class="declaration">var </aside>unique_id
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L18">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 18"/></a></h3>
        <p>A unique id for this node</p><h3 id="var/weights"><aside class="declaration">var </aside>weights
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L23">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 23"/></a></h3>
        <p>List of weights for scoring stuff happening here; ultilizes &quot;identifiers&quot; to differentiate different kinds of AI types looking at the same node.</p><h2 id="proc">Proc Details</h2><h3 id="proc/get_best_adj_node"><aside class="declaration">proc </aside>get_best_adj_node<aside>(/list/weight_modifiers, identifier) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L80">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 80"/></a></aside>
        </h3>
        <p>A proc that gets the &quot;best&quot; adjacent node in src based on score
The score is calculated by what weights are inside of the list/weight_modifiers
The highest number after multiplying each list/weight by the ones in the above parameter will be the node that's chosen; any nodes that have the same score won't override that node
Generally the number that the weight has before being multiplied by weight modifiers is the &quot;user friendly&quot; edition; NODE_LAST_VISITED represents in deciseconds the time before
the node has been visited by a particular thing, while something like NODE_ENEMY_COUNT represents the amount of enemies
Parameter call example
GetBestAdjNode(list(NODE_LAST_VISITED = -1), IDENTIFIER_XENO)
Returns an adjacent node that was last visited; when a AI chose to visit a node, it will set NODE_LAST_VISITED to world.time</p><h3 id="proc/increment_weight"><aside class="declaration">proc </aside>increment_weight<aside>(identifier, name, amount) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L53">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 53"/></a></aside>
        </h3>
        <p>Adds to the specific weight of a specific identifier of this node</p><h3 id="proc/is_in_line_of_sight"><aside class="declaration">proc </aside>is_in_line_of_sight<aside>(/<a href="turf.html">turf</a>/target_loc) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L116">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 116"/></a></aside>
        </h3>
        <p>Returns true if the turf in argument is in line of sight</p><h3 id="proc/make_adjacents"><aside class="declaration">proc </aside>make_adjacents<aside>(bypass_diagonal_check) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L103">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 103"/></a></aside>
        </h3>
        <p>Clears the adjacencies of src and repopulates it, it will consider nodes &quot;adjacent&quot; to src should it be less 15 turfs away</p><h3 id="proc/serialize"><aside class="declaration">proc </aside>serialize<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L41">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 41"/></a></aside>
        </h3>
        <p>Serialize nodes information</p><h3 id="proc/set_weight"><aside class="declaration">proc </aside>set_weight<aside>(identifier, name, amount) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/modules/ai/ai_node.dm#L57">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;ai&#x2F;ai_node.dm 57"/></a></aside>
        </h3>
        <p>Sets the specific weight of a specific identifier of this node</p></main>
<footer>
    tgmc.dme
    <a href="https://github.com/tgstation/TerraGov-Marine-Corps/tree/bfeaf60f069b9d753b339afccdc0b16b13f5cff1">bfeaf60</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
