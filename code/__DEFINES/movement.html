<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>code&#x2F;__DEFINES&#x2F;movement.dm - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="code/__DEFINES/movement.html#define">Define Details</a></header>
<main>
<h1>code/__DEFINES/movement.dm 
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm"/></a></h1>

<table class="summary" cellspacing="0">
        <tr><th><a href="code/__DEFINES/movement.html#define/DELAY_TO_GLIDE_SIZE">DELAY_TO_GLIDE_SIZE</a></th><td>Broken down, here's what this does:
divides the world icon_size (32) by delay divided by ticklag to get the number of pixels something should be moving each tick.
The division result is given a min value of 1 to prevent obscenely slow glide sizes from being set
Then that's multiplied by the global glide size multiplier. 1.25 by default feels pretty close to spot on. This is just to try to get byond to behave.
The whole result is then clamped to within the range above.
Not very readable but it works</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/MOVEMENT_ADJUSTED_GLIDE_SIZE">MOVEMENT_ADJUSTED_GLIDE_SIZE</a></th><td>Similar to DELAY_TO_GLIDE_SIZE, except without the clamping, and it supports piping in an unrelated scalar</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/CURRENTLY_Z_FALLING">CURRENTLY_Z_FALLING</a></th><td>currently_z_moving defines. Higher numbers mean higher priority.
This one is for falling down open space from stuff such as deleted tile, pit grate...</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/CURRENTLY_Z_MOVING_GENERIC">CURRENTLY_Z_MOVING_GENERIC</a></th><td>currently_z_moving is set to this in zMove() if 0.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/CURRENTLY_Z_FALLING_FROM_MOVE">CURRENTLY_Z_FALLING_FROM_MOVE</a></th><td>This one is for falling down open space from movement.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/CURRENTLY_Z_ASCENDING">CURRENTLY_Z_ASCENDING</a></th><td>This one is for going upstairs.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/FALL_INTERCEPTED">FALL_INTERCEPTED</a></th><td>possible bitflag return values of [atom/proc/intercept_zImpact] calls
Stops the movable from falling further and crashing on the ground. Example: stairs.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/FALL_NO_MESSAGE">FALL_NO_MESSAGE</a></th><td>Suppresses the &quot;[movable] falls through [old_turf]&quot; message because it'd make little sense in certain contexts like climbing stairs.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/FALL_STOP_INTERCEPTING">FALL_STOP_INTERCEPTING</a></th><td>Used when the whole intercept_zImpact forvar loop should be stopped. For example: when someone falls into the supermatter and becomes dust.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/FALL_RETAIN_PULL">FALL_RETAIN_PULL</a></th><td>Used when the grip on a pulled object shouldn't be broken.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_CHECK_PULLING">ZMOVE_CHECK_PULLING</a></th><td>Runs check_pulling() by the end of [/atom/movable/proc/zMove] for every movable that's pulling something. Should be kept enabled unless you know what you are doing.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_CHECK_PULLEDBY">ZMOVE_CHECK_PULLEDBY</a></th><td>Checks if pulledby is nearby. if not, stop being pulled.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_FALL_CHECKS">ZMOVE_FALL_CHECKS</a></th><td>flags for different checks done in <a href="atom/movable.html#proc/can_z_move" title="/atom/movable">/atom/movable/proc/can_z_move</a>. Should be self-explainatory.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_IGNORE_OBSTACLES">ZMOVE_IGNORE_OBSTACLES</a></th><td>Doesn't call zPassIn() and zPassOut()</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_FEEDBACK">ZMOVE_FEEDBACK</a></th><td>Gives players chat feedbacks if they're unable to move through z levels.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_ALLOW_BUCKLED">ZMOVE_ALLOW_BUCKLED</a></th><td>Whether we check the movable (if it exists) the living mob is buckled on or not.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_VENTCRAWLING">ZMOVE_VENTCRAWLING</a></th><td>If the movable is actually ventcrawling vertically.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_INCLUDE_PULLED">ZMOVE_INCLUDE_PULLED</a></th><td>Includes movables that're either pulled by the source or mobs buckled to it in the list of moving movables.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_ALLOW_ANCHORED">ZMOVE_ALLOW_ANCHORED</a></th><td>Skips check for whether the moving atom is anchored or not.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_FLIGHT_FLAGS">ZMOVE_FLIGHT_FLAGS</a></th><td>Flags used in &quot;Move Upwards&quot; and &quot;Move Downwards&quot; verbs.</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_STAIRS_FLAGS">ZMOVE_STAIRS_FLAGS</a></th><td>Used when walking upstairs</td></tr>
        <tr><th><a href="code/__DEFINES/movement.html#define/ZMOVE_FALL_FLAGS">ZMOVE_FALL_FLAGS</a></th><td>Used for falling down open space.</td></tr></table><h2 id="define">Define Details</h2>
<h3 id="define/CURRENTLY_Z_ASCENDING"><aside class="declaration">#define </aside>CURRENTLY_Z_ASCENDING
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L42">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 42"/></a>
    </h3>
    <p>This one is for going upstairs.</p><h3 id="define/CURRENTLY_Z_FALLING"><aside class="declaration">#define </aside>CURRENTLY_Z_FALLING
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L36">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 36"/></a>
    </h3>
    <p>currently_z_moving defines. Higher numbers mean higher priority.
This one is for falling down open space from stuff such as deleted tile, pit grate...</p><h3 id="define/CURRENTLY_Z_FALLING_FROM_MOVE"><aside class="declaration">#define </aside>CURRENTLY_Z_FALLING_FROM_MOVE
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L40">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 40"/></a>
    </h3>
    <p>This one is for falling down open space from movement.</p><h3 id="define/CURRENTLY_Z_MOVING_GENERIC"><aside class="declaration">#define </aside>CURRENTLY_Z_MOVING_GENERIC
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L38">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 38"/></a>
    </h3>
    <p>currently_z_moving is set to this in zMove() if 0.</p><h3 id="define/DELAY_TO_GLIDE_SIZE"><aside class="declaration">#define </aside>DELAY_TO_GLIDE_SIZE
            <aside>(delay)</aside>
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L17">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 17"/></a>
    </h3>
    <p>Broken down, here's what this does:
divides the world icon_size (32) by delay divided by ticklag to get the number of pixels something should be moving each tick.
The division result is given a min value of 1 to prevent obscenely slow glide sizes from being set
Then that's multiplied by the global glide size multiplier. 1.25 by default feels pretty close to spot on. This is just to try to get byond to behave.
The whole result is then clamped to within the range above.
Not very readable but it works</p><h3 id="define/FALL_INTERCEPTED"><aside class="declaration">#define </aside>FALL_INTERCEPTED
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L46">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 46"/></a>
    </h3>
    <p>possible bitflag return values of [atom/proc/intercept_zImpact] calls
Stops the movable from falling further and crashing on the ground. Example: stairs.</p><h3 id="define/FALL_NO_MESSAGE"><aside class="declaration">#define </aside>FALL_NO_MESSAGE
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L48">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 48"/></a>
    </h3>
    <p>Suppresses the &quot;[movable] falls through [old_turf]&quot; message because it'd make little sense in certain contexts like climbing stairs.</p><h3 id="define/FALL_RETAIN_PULL"><aside class="declaration">#define </aside>FALL_RETAIN_PULL
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L52">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 52"/></a>
    </h3>
    <p>Used when the grip on a pulled object shouldn't be broken.</p><h3 id="define/FALL_STOP_INTERCEPTING"><aside class="declaration">#define </aside>FALL_STOP_INTERCEPTING
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L50">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 50"/></a>
    </h3>
    <p>Used when the whole intercept_zImpact forvar loop should be stopped. For example: when someone falls into the supermatter and becomes dust.</p><h3 id="define/MOVEMENT_ADJUSTED_GLIDE_SIZE"><aside class="declaration">#define </aside>MOVEMENT_ADJUSTED_GLIDE_SIZE
            <aside>(delay, movement_disparity)</aside>
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L20">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 20"/></a>
    </h3>
    <p>Similar to DELAY_TO_GLIDE_SIZE, except without the clamping, and it supports piping in an unrelated scalar</p><h3 id="define/ZMOVE_ALLOW_ANCHORED"><aside class="declaration">#define </aside>ZMOVE_ALLOW_ANCHORED
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L73">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 73"/></a>
    </h3>
    <p>Skips check for whether the moving atom is anchored or not.</p><h3 id="define/ZMOVE_ALLOW_BUCKLED"><aside class="declaration">#define </aside>ZMOVE_ALLOW_BUCKLED
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L67">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 67"/></a>
    </h3>
    <p>Whether we check the movable (if it exists) the living mob is buckled on or not.</p><h3 id="define/ZMOVE_CHECK_PULLEDBY"><aside class="declaration">#define </aside>ZMOVE_CHECK_PULLEDBY
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L57">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 57"/></a>
    </h3>
    <p>Checks if pulledby is nearby. if not, stop being pulled.</p><h3 id="define/ZMOVE_CHECK_PULLING"><aside class="declaration">#define </aside>ZMOVE_CHECK_PULLING
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L55">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 55"/></a>
    </h3>
    <p>Runs check_pulling() by the end of [/atom/movable/proc/zMove] for every movable that's pulling something. Should be kept enabled unless you know what you are doing.</p><h3 id="define/ZMOVE_FALL_CHECKS"><aside class="declaration">#define </aside>ZMOVE_FALL_CHECKS
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L59">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 59"/></a>
    </h3>
    <p>flags for different checks done in <a href="atom/movable.html#proc/can_z_move" title="/atom/movable">/atom/movable/proc/can_z_move</a>. Should be self-explainatory.</p><h3 id="define/ZMOVE_FALL_FLAGS"><aside class="declaration">#define </aside>ZMOVE_FALL_FLAGS
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L82">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 82"/></a>
    </h3>
    <p>Used for falling down open space.</p><h3 id="define/ZMOVE_FEEDBACK"><aside class="declaration">#define </aside>ZMOVE_FEEDBACK
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L65">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 65"/></a>
    </h3>
    <p>Gives players chat feedbacks if they're unable to move through z levels.</p><h3 id="define/ZMOVE_FLIGHT_FLAGS"><aside class="declaration">#define </aside>ZMOVE_FLIGHT_FLAGS
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L78">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 78"/></a>
    </h3>
    <p>Flags used in &quot;Move Upwards&quot; and &quot;Move Downwards&quot; verbs.</p><h3 id="define/ZMOVE_IGNORE_OBSTACLES"><aside class="declaration">#define </aside>ZMOVE_IGNORE_OBSTACLES
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L63">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 63"/></a>
    </h3>
    <p>Doesn't call zPassIn() and zPassOut()</p><h3 id="define/ZMOVE_INCLUDE_PULLED"><aside class="declaration">#define </aside>ZMOVE_INCLUDE_PULLED
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L71">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 71"/></a>
    </h3>
    <p>Includes movables that're either pulled by the source or mobs buckled to it in the list of moving movables.</p><h3 id="define/ZMOVE_STAIRS_FLAGS"><aside class="declaration">#define </aside>ZMOVE_STAIRS_FLAGS
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L80">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 80"/></a>
    </h3>
    <p>Used when walking upstairs</p><h3 id="define/ZMOVE_VENTCRAWLING"><aside class="declaration">#define </aside>ZMOVE_VENTCRAWLING
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/bfeaf60f069b9d753b339afccdc0b16b13f5cff1/code/__DEFINES/movement.dm#L69">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;movement.dm 69"/></a>
    </h3>
    <p>If the movable is actually ventcrawling vertically.</p></main>
<footer>
    tgmc.dme
    <a href="https://github.com/tgstation/TerraGov-Marine-Corps/tree/bfeaf60f069b9d753b339afccdc0b16b13f5cff1">bfeaf60</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
